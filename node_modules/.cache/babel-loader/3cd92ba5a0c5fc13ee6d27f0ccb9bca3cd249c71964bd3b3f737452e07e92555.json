{"ast":null,"code":"import { ref, watch } from \"vue\";\nimport axios from \"@/util/axios\";\nimport { ElMessage } from \"element-plus\";\nimport index from \"vuex\";\nexport default {\n  __name: 'edit',\n  props: {\n    id: {\n      type: Number,\n      default: -1,\n      required: true\n    },\n    dialogVisible: {\n      type: Boolean,\n      default: false,\n      required: true\n    },\n    surveyQuestionIds: {\n      type: String,\n      default: \"0\",\n      required: true\n    }\n  },\n  emits: ['update:modelValue', 'initList'],\n  setup(__props, {\n    expose: __expose,\n    emit: emits\n  }) {\n    __expose();\n    const props = __props;\n    watch(() => props.dialogVisible, () => {\n      let id = props.id;\n      if (id !== -1 && props.dialogVisible === true) {\n        initData(props.surveyQuestionIds);\n      }\n    });\n    const initData = async surveyQuestionIds => {\n      var questionIdList = surveyQuestionIds.split(',');\n      let questionList = questionIdList.map(async item => {\n        console.log(item);\n        let res = await axios.get('/api/survey-question/one/' + item);\n        return item = res.data.data.surveyQuestion;\n      });\n    };\n    const handleClose = () => {\n      emits('update:modelValue', false);\n    };\n    const __returned__ = {\n      props,\n      emits,\n      initData,\n      handleClose,\n      ref,\n      watch,\n      get axios() {\n        return axios;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get index() {\n        return index;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","axios","ElMessage","index","props","dialogVisible","id","initData","surveyQuestionIds","questionIdList","split","questionList","map","item","console","log","res","get","data","surveyQuestion","handleClose","emits"],"sources":["D:/vue_project/survey-vue/src/views/assembly/components/edit.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    model-value=\"dialogVisible\"\r\n    title=\"修改\"\r\n    width=\"40%\"\r\n    @close=\"handleClose\"\r\n  >\r\n      <el-form\r\n        ref=\"formRef\"\r\n        :model=\"form\"\r\n        :rules=\"rules\"\r\n        label-width=\"150px\"\r\n      >\r\n          <el-form-item label=\"问卷名称\" prop=\"name\">\r\n              <el-input v-model=\"form.name\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"问卷密码\" prop=\"password\">\r\n              <el-input v-model=\"form.password\"/>\r\n          </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n          <span class=\"dialog-footer\">\r\n              <el-button @click=\"handleClose\">取消</el-button>\r\n              <el-button type=\"primary\" @click=\"handleConfirm\">确认</el-button>\r\n          </span>\r\n      </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport {defineEmits, defineProps, ref, watch} from \"vue\";\r\nimport axios from \"@/util/axios\";\r\nimport {ElMessage} from \"element-plus\";\r\nimport index from \"vuex\";\r\n\r\nconst props = defineProps(\r\n    {\r\n        id: {\r\n            type: Number,\r\n            default: -1,\r\n            required: true\r\n        },\r\n        dialogVisible: {\r\n            type: Boolean,\r\n            default: false,\r\n            required: true\r\n        },\r\n        surveyQuestionIds: {\r\n            type: String,\r\n            default: \"0\",\r\n            required: true\r\n        }\r\n    }\r\n)\r\nwatch(\r\n    ()=>props.dialogVisible,\r\n    ()=>{\r\n        let id = props.id;\r\n        if (id !== -1 && props.dialogVisible === true) {\r\n            initData(props.surveyQuestionIds);\r\n        }\r\n    }\r\n)\r\nconst emits = defineEmits(['update:modelValue','initList']);\r\nconst initData = async (surveyQuestionIds) => {\r\n    var questionIdList = surveyQuestionIds.split(',');\r\n    let questionList = questionIdList.map(\r\n        async (item) => {\r\n            console.log(item)\r\n            let res = await axios.get('/api/survey-question/one/' + item);\r\n            return item = res.data.data.surveyQuestion\r\n        }\r\n    )\r\n\r\n}\r\nconst handleClose = () => {\r\n    emits('update:modelValue', false);\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AA8BA,SAAkCA,GAAG,EAAEC,KAAK,QAAO,KAAK;AACxD,OAAOC,KAAK,MAAM,cAAc;AAChC,SAAQC,SAAS,QAAO,cAAc;AACtC,OAAOC,KAAK,MAAM,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBxBH,KAAK,CACD,MAAII,KAAK,CAACC,aAAa,EACvB,MAAI;MACA,IAAIC,EAAE,GAAGF,KAAK,CAACE,EAAE;MACjB,IAAIA,EAAE,KAAK,CAAC,CAAC,IAAIF,KAAK,CAACC,aAAa,KAAK,IAAI,EAAE;QAC3CE,QAAQ,CAACH,KAAK,CAACI,iBAAiB,CAAC;MACrC;IACJ,CACJ,CAAC;IAED,MAAMD,QAAQ,GAAG,MAAOC,iBAAiB,IAAK;MAC1C,IAAIC,cAAc,GAAGD,iBAAiB,CAACE,KAAK,CAAC,GAAG,CAAC;MACjD,IAAIC,YAAY,GAAGF,cAAc,CAACG,GAAG,CACjC,MAAOC,IAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAIG,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,2BAA2B,GAAGJ,IAAI,CAAC;QAC7D,OAAOA,IAAI,GAAGG,GAAG,CAACE,IAAI,CAACA,IAAI,CAACC,cAAc;MAC9C,CACJ,CAAC;IAEL,CAAC;IACD,MAAMC,WAAW,GAAGA,CAAA,KAAM;MACtBC,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC;IACrC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}